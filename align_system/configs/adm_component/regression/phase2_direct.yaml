_target_: align_system.algorithms.direct_regression_adm_component.DirectRegressionADMComponent

structured_inference_engine: ${ref:adm.structured_inference_engine}
num_samples: 1

target_attribute_names_override: ['medical', '*']  # Default includes 'medical'

per_attribute_templates:
  medical:
    missing_character_default_value: 0
    prompt_template: |
      Given the injury described below, provide a reasoning and a medical urgency rating:

      {{ character.unstructured }}
    schema_template:
      _target_: align_system.prompt_engineering.outlines_prompts.DirectRegressionSchemaTemplate
      min_value: 1
    system_prompt: |
      Here's a list of injuries and they're associated "medical urgency" scores, where a 100 indicates that immediate medical attention is needed in a triage situation; and a 1 indicates the lowest priority:

        Massive bleeding from the abdomen or torso would score a 100.
        Massive bleeding from the head or neck would score a 99.
        Massive bleeding from the hip, groin, or shoulder would score a 99.
        Massive bleeding from a limb would score 98.

        Not breathing would score 95.
        Gasping for breath with a chest wound would score 94.
        Not breathing after airway repositioned would score 92.

        Moderate bleeding from the abdomen or torso would score a 60.
        Moderate bleeding from the hip, going, or shoulder would score a 59.

        Signs of decompensated shock would score 60.

        Severe burns over 50% of the body would score 64.
        Severe burns over 20% of the body would score 53.

        A compound fracture with mild bleeding would score 41.
        A closed fracture with no bleeding would score a 1.
        A dislocation with no bleeding would score a 1.

        You'll be given an injury description and asked to assign a "medical urgency" score between 1 to 100 along with a reasoning for your score.  Ignore any details that are not relevant to the injury.  Your response should be formatted as valid JSON.
        
  affiliation:
    missing_character_default_value: 0
    prompt_template: |
      Given the casualty described below, provide a reasoning and an affiliation score:

      {{ character.unstructured }}
    schema_template:
      _target_: align_system.prompt_engineering.outlines_prompts.DirectRegressionSchemaTemplate
    system_prompt: |
        Here's a list of casualty descriptions and they're associated "affiliation" scores, where a 100 indicates the closest affiliation to you; and a 0 indicates the least affiliation:

        a warfighter in the same military unit as you would score 100.
        a warfighter in the same branch of the military as you, but not in the same unit would score 96.

        a foreign military ally from a group who has been working together well with your unit would score 83.
        a foreign military ally from a group who has not worked together with your unit would score 69.
        a foreign military ally from a group who has been working together poorly with your unit would score 55.

        a POW who was captured over a year ago would score 14.
        a POW who just recently surrendered would score 0.
          
        You'll be given a casualty description and asked to assign an "affiliation" score between 0 to 100 along with a reasoning for your score.  Ignore any details that are not relevant to the casualty's affiliation.  Your response should be formatted as valid JSON.

  merit:
    missing_character_default_value: 0
    prompt_template: |
      Given the casualty described below, provide a reasoning and a merit score:

      {{ character.unstructured }}
    schema_template:
      _target_: align_system.prompt_engineering.outlines_prompts.DirectRegressionSchemaTemplate
    system_prompt: |
        Here's a list of casualty descriptions and they're associated "merit" scores, where a 100 indicates the most merit; and a 0 indicates the least merit:

        someone who is a bystander who was injured would score 100.
        someone who accidentally discharged their weapon, seriously injuring someone would score 88.

        someone who is a negligent driver and caused an accident would score 77.
        someone who started a fist fight but were injured from external circumstances would score 56.

        someone who started a fist fight where anyone was injured in the fight would score 55.
        someone who abandoned their military duty station during a low threat condition, so there was no warning for an enemy attack would score 44.
        someone who is a drunk driver who hit another car would score 38.
        someone who stole some money and ran away, leading to a chase that ended in a car accident would score 34.

        someone who triggered an explostion by interacting with a suspicious package they had been warned not to touch would score 34.
        someone who blackmailed someone to get them into a car, then drove recklessly and crashed into a tree would score 27.
        someone who abandoned their military duty station during a high threat condition, so there was no warning for an enemy attack would score 25.
        someone who detonated a small IED, seriously injuring someone would score 15.

        someone who shoots a few people would score 11.
        someone who is a mass shooter would score 0.
            
        You'll be given a casualty description and asked to assign a "merit" score between 0 to 100 along with a reasoning for your score.  Ignore any details that are not relevant to the casualty's merit.  Your response should be formatted as valid JSON.

