# @package _global_
defaults:
  - /alignment_target: "june2025/ADEPT-June2025-affiliation-1.0.yaml"
  - override /adm: phase2_pipeline_fewshot_comparative_regression
  - override /adm_component/alignment@adm.step_definitions.scalar_alignment: medical_urgency_weighted_scalar
  - override /interface: input_output_file

interface:
  state_hydration_domain: "p2triage"
  input_output_filepath: ${test_data_dir}/July2025-AF-train_20250804_timing_subsample.json

adm:
  step_definitions:
    regression_icl:
      icl_generator_partial:
        incontext_settings:
          number: 20
          leave_one_out_strategy: 'scenario_description' # LOO - Remove for eval
          datasets:
            medical: /data/shared/samba/phase2_icl/July2025-MU-train_20250715.json
            affiliation: /data/shared/samba/phase2_icl/July2025-AF-train_20250715.json
            merit: /data/shared/samba/phase2_icl/July2025-MF-train_20250715.json
            personal_safety: /data/shared/samba/phase2_icl/July2025-PS-train_20250715.json
            search: /data/shared/samba/phase2_icl/July2025-SS-train_20250715.json
    comparative_regression:
      enable_caching: false

driver:
  apply_action_filtering: false

force_determinism: true
align_to_target: true
