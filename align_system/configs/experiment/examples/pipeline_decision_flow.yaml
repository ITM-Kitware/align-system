# @package _global_
defaults:
  - override /adm: outlines_decision_flow_aligned/pipeline_decision_flow
  - override /inference_engine@adm.structured_inference_engine: outlines_structured_multinomial_constrained

adm:
  instance:
    steps:
      - ${ref:adm.step_definitions.format_choices}
      - ${ref:adm.step_definitions.variables}
      - ${ref:adm.step_definitions.extraction}
      - ${ref:adm.step_definitions.attribute}
      - ${ref:adm.step_definitions.filter}
      - ${ref:adm.step_definitions.objective}
      # - ${ref:adm.step_definitions.express}
      - ${ref:adm.step_definitions.express_unstructured}
      - ${ref:adm.step_definitions.math_reason}
      - ${ref:adm.step_definitions.ensure_chosen_action}
      - ${ref:adm.step_definitions.populate_choice_info}

align_to_target: true

hydra:
  run:
    dir: './decision_flow/${now:%Y-%m-%d__%H-%M-%S}'
